30b05039fe7870ac7c262379d6355f50
/**
 * Array#filter.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Object=} self
 * @return {Array}
 * @throw TypeError
 */
module.exports = function (arr, fn, self) {
  if (arr.filter) return arr.filter(fn, self);
  if (void 0 === arr || null === arr) throw new TypeError();
  if ('function' != typeof fn) throw new TypeError();
  var ret = [];

  for (var i = 0; i < arr.length; i++) {
    if (!hasOwn.call(arr, i)) continue;
    var val = arr[i];
    if (fn.call(self, val, i, arr)) ret.push(val);
  }

  return ret;
};

var hasOwn = Object.prototype.hasOwnProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJhcnIiLCJmbiIsInNlbGYiLCJmaWx0ZXIiLCJUeXBlRXJyb3IiLCJyZXQiLCJpIiwibGVuZ3RoIiwiaGFzT3duIiwiY2FsbCIsInZhbCIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSJdLCJtYXBwaW5ncyI6IkFBQ0E7Ozs7Ozs7OztBQVVBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsR0FBVixFQUFlQyxFQUFmLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN4QyxNQUFJRixHQUFHLENBQUNHLE1BQVIsRUFBZ0IsT0FBT0gsR0FBRyxDQUFDRyxNQUFKLENBQVdGLEVBQVgsRUFBZUMsSUFBZixDQUFQO0FBQ2hCLE1BQUksS0FBSyxDQUFMLEtBQVdGLEdBQVgsSUFBa0IsU0FBU0EsR0FBL0IsRUFBb0MsTUFBTSxJQUFJSSxTQUFKLEVBQU47QUFDcEMsTUFBSSxjQUFjLE9BQU9ILEVBQXpCLEVBQTZCLE1BQU0sSUFBSUcsU0FBSixFQUFOO0FBQzdCLE1BQUlDLEdBQUcsR0FBRyxFQUFWOztBQUNBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR04sR0FBRyxDQUFDTyxNQUF4QixFQUFnQ0QsQ0FBQyxFQUFqQyxFQUFxQztBQUNuQyxRQUFJLENBQUNFLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZVCxHQUFaLEVBQWlCTSxDQUFqQixDQUFMLEVBQTBCO0FBQzFCLFFBQUlJLEdBQUcsR0FBR1YsR0FBRyxDQUFDTSxDQUFELENBQWI7QUFDQSxRQUFJTCxFQUFFLENBQUNRLElBQUgsQ0FBUVAsSUFBUixFQUFjUSxHQUFkLEVBQW1CSixDQUFuQixFQUFzQk4sR0FBdEIsQ0FBSixFQUFnQ0ssR0FBRyxDQUFDTSxJQUFKLENBQVNELEdBQVQ7QUFDakM7O0FBQ0QsU0FBT0wsR0FBUDtBQUNELENBWEQ7O0FBYUEsSUFBSUcsTUFBTSxHQUFHSSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLGNBQTlCIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEFycmF5I2ZpbHRlci5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdD19IHNlbGZcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQHRocm93IFR5cGVFcnJvclxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyciwgZm4sIHNlbGYpIHtcbiAgaWYgKGFyci5maWx0ZXIpIHJldHVybiBhcnIuZmlsdGVyKGZuLCBzZWxmKTtcbiAgaWYgKHZvaWQgMCA9PT0gYXJyIHx8IG51bGwgPT09IGFycikgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgaWYgKCdmdW5jdGlvbicgIT0gdHlwZW9mIGZuKSB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICB2YXIgcmV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChhcnIsIGkpKSBjb250aW51ZTtcbiAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgIGlmIChmbi5jYWxsKHNlbGYsIHZhbCwgaSwgYXJyKSkgcmV0LnB1c2godmFsKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4iXX0=