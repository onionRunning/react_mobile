66c25e384b47f0f4a0ada7401b19bf8d
"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRewardsInfo = exports.isObject = exports.isString = exports.getRandomSeed = exports.getRandomWorld = exports.randomArray = exports.generateRandom = void 0;
var const_1 = require("./const");
var ZERO = const_1.INIT_NUMBER.ZERO, ONE = const_1.INIT_NUMBER.ONE, RANDOM_WORLD = const_1.INIT_NUMBER.RANDOM_WORLD, RANDOM_ONE = const_1.INIT_NUMBER.RANDOM_ONE, RANDOM_THR = const_1.INIT_NUMBER.RANDOM_THR, RANDOM_TWO = const_1.INIT_NUMBER.RANDOM_TWO;
// 随机函数
exports.generateRandom = function (seed) {
    return function (min, max) {
        if (min === void 0) { min = ZERO; }
        if (max === void 0) { max = ONE; }
        seed = (seed * RANDOM_ONE + RANDOM_TWO) % RANDOM_THR;
        var rnd = seed / RANDOM_THR;
        return Math.floor(min + rnd * (max - min));
    };
};
// 数组随机排列
function randomArray(arr, seed) {
    arr = __spreadArrays(arr);
    var result = [];
    var random = exports.generateRandom(seed);
    while (arr.length > ZERO) {
        var t = random(ZERO, arr.length);
        result.push(arr.splice(t, ONE)[ZERO]);
    }
    return result;
}
exports.randomArray = randomArray;
// 随机取 WORLD 里取 （0） - (977 -21)
exports.getRandomWorld = function (seed) {
    var randomFunc = exports.generateRandom(seed);
    var randomIndex = randomFunc(ZERO, const_1.INIT_WORLD.length - RANDOM_WORLD);
    return __spreadArrays(const_1.INIT_WORLD).splice(randomIndex, RANDOM_WORLD);
};
// 获取随机seed
exports.getRandomSeed = function () {
    return new Date().getTime();
};
// 判断类型是字符串
exports.isString = function (s) {
    return Object.prototype.toString.call(s) === '[object String]';
};
// 判断类型是object
exports.isObject = function (s) {
    return Object.prototype.toString.call(s) === '[object Object]';
};
// 触发按钮点击下一题时才触发
exports.getRewardsInfo = function () {
    var records = [];
    const_1.LEVEL_REWARDS.reduce(function (cur, pre, index) {
        records.push({ reward: pre, currentLevel: cur + pre, rewardLevel: index });
        return cur + pre;
    }, ZERO);
    return records;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3dhbmdjb25nL3dvcmtzcGFjZS9obC9mb250L3JlYWN0X21vYmlsZS9zcmMvZ2xvYmFsL3V0aWxzLnRzIiwic291cmNlcyI6WyIvVXNlcnMvd2FuZ2Nvbmcvd29ya3NwYWNlL2hsL2ZvbnQvcmVhY3RfbW9iaWxlL3NyYy9nbG9iYWwvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGlDQUFnRTtBQUN4RCxJQUFBLElBQUksR0FBNEQsbUJBQVcsS0FBdkUsRUFBRSxHQUFHLEdBQXVELG1CQUFXLElBQWxFLEVBQUUsWUFBWSxHQUF5QyxtQkFBVyxhQUFwRCxFQUFFLFVBQVUsR0FBNkIsbUJBQVcsV0FBeEMsRUFBRSxVQUFVLEdBQWlCLG1CQUFXLFdBQTVCLEVBQUUsVUFBVSxHQUFLLG1CQUFXLFdBQWhCLENBQWdCO0FBRW5GLE9BQU87QUFDTSxRQUFBLGNBQWMsR0FBRyxVQUFDLElBQVk7SUFDekMsT0FBTyxVQUFDLEdBQVUsRUFBRSxHQUFTO1FBQXJCLG9CQUFBLEVBQUEsVUFBVTtRQUFFLG9CQUFBLEVBQUEsU0FBUztRQUMzQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQTtRQUNwRCxJQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsVUFBVSxDQUFBO1FBQzdCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUE7SUFDNUMsQ0FBQyxDQUFBO0FBQ0gsQ0FBQyxDQUFBO0FBRUQsU0FBUztBQUNULFNBQWdCLFdBQVcsQ0FBSSxHQUFRLEVBQUUsSUFBWTtJQUNuRCxHQUFHLGtCQUFPLEdBQUcsQ0FBQyxDQUFBO0lBQ2QsSUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFBO0lBQ2pCLElBQU0sTUFBTSxHQUFHLHNCQUFjLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDbkMsT0FBTyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksRUFBRTtRQUN4QixJQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7S0FDdEM7SUFDRCxPQUFPLE1BQU0sQ0FBQTtBQUNmLENBQUM7QUFURCxrQ0FTQztBQUVELCtCQUErQjtBQUNsQixRQUFBLGNBQWMsR0FBRyxVQUFDLElBQVk7SUFDekMsSUFBTSxVQUFVLEdBQUcsc0JBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUN2QyxJQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLGtCQUFVLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxDQUFBO0lBQ3RFLE9BQU8sZUFBSSxrQkFBVSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLENBQUE7QUFDMUQsQ0FBQyxDQUFBO0FBRUQsV0FBVztBQUNFLFFBQUEsYUFBYSxHQUFHO0lBQzNCLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtBQUM3QixDQUFDLENBQUE7QUFFRCxXQUFXO0FBQ0UsUUFBQSxRQUFRLEdBQUcsVUFBSSxDQUFJO0lBQzlCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLGlCQUFpQixDQUFBO0FBQ2hFLENBQUMsQ0FBQTtBQUVELGNBQWM7QUFDRCxRQUFBLFFBQVEsR0FBRyxVQUFJLENBQUk7SUFDOUIsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssaUJBQWlCLENBQUE7QUFDaEUsQ0FBQyxDQUFBO0FBUUQsZ0JBQWdCO0FBQ0gsUUFBQSxjQUFjLEdBQUc7SUFDNUIsSUFBTSxPQUFPLEdBQWMsRUFBRSxDQUFBO0lBQzdCLHFCQUFhLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLO1FBQ25DLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFBO1FBQzFFLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQTtJQUNsQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDUixPQUFPLE9BQU8sQ0FBQTtBQUNoQixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTklUX05VTUJFUiwgSU5JVF9XT1JMRCwgTEVWRUxfUkVXQVJEUyB9IGZyb20gJy4vY29uc3QnXG5jb25zdCB7IFpFUk8sIE9ORSwgUkFORE9NX1dPUkxELCBSQU5ET01fT05FLCBSQU5ET01fVEhSLCBSQU5ET01fVFdPIH0gPSBJTklUX05VTUJFUlxuXG4vLyDpmo/mnLrlh73mlbBcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJhbmRvbSA9IChzZWVkOiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIChtaW4gPSBaRVJPLCBtYXggPSBPTkUpID0+IHtcbiAgICBzZWVkID0gKHNlZWQgKiBSQU5ET01fT05FICsgUkFORE9NX1RXTykgJSBSQU5ET01fVEhSXG4gICAgY29uc3Qgcm5kID0gc2VlZCAvIFJBTkRPTV9USFJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyBybmQgKiAobWF4IC0gbWluKSlcbiAgfVxufVxuXG4vLyDmlbDnu4Tpmo/mnLrmjpLliJdcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21BcnJheTxUPihhcnI6IFRbXSwgc2VlZDogbnVtYmVyKTogVFtdIHtcbiAgYXJyID0gWy4uLmFycl1cbiAgY29uc3QgcmVzdWx0ID0gW11cbiAgY29uc3QgcmFuZG9tID0gZ2VuZXJhdGVSYW5kb20oc2VlZClcbiAgd2hpbGUgKGFyci5sZW5ndGggPiBaRVJPKSB7XG4gICAgY29uc3QgdCA9IHJhbmRvbShaRVJPLCBhcnIubGVuZ3RoKVxuICAgIHJlc3VsdC5wdXNoKGFyci5zcGxpY2UodCwgT05FKVtaRVJPXSlcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIOmaj+acuuWPliBXT1JMRCDph4zlj5Yg77yIMO+8iSAtICg5NzcgLTIxKVxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbVdvcmxkID0gKHNlZWQ6IG51bWJlcikgPT4ge1xuICBjb25zdCByYW5kb21GdW5jID0gZ2VuZXJhdGVSYW5kb20oc2VlZClcbiAgY29uc3QgcmFuZG9tSW5kZXggPSByYW5kb21GdW5jKFpFUk8sIElOSVRfV09STEQubGVuZ3RoIC0gUkFORE9NX1dPUkxEKVxuICByZXR1cm4gWy4uLklOSVRfV09STERdLnNwbGljZShyYW5kb21JbmRleCwgUkFORE9NX1dPUkxEKVxufVxuXG4vLyDojrflj5bpmo/mnLpzZWVkXG5leHBvcnQgY29uc3QgZ2V0UmFuZG9tU2VlZCA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG59XG5cbi8vIOWIpOaWreexu+Wei+aYr+Wtl+espuS4slxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gPFQ+KHM6IFQpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSdcbn1cblxuLy8g5Yik5pat57G75Z6L5pivb2JqZWN0XG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSA8VD4oczogVCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHMpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuXG4vLyDojrflj5blpZblirHnrYnnuqcg5Lul5Y+KIOWQhOS4quetiee6p+WvueW6lOeahOWlluWKsemHkeminVxuaW50ZXJmYWNlIFJld2FyZHMge1xuICByZXdhcmQ6IG51bWJlclxuICBjdXJyZW50TGV2ZWw6IG51bWJlclxuICByZXdhcmRMZXZlbDogbnVtYmVyXG59XG4vLyDop6blj5HmjInpkq7ngrnlh7vkuIvkuIDpopjml7bmiY3op6blj5FcbmV4cG9ydCBjb25zdCBnZXRSZXdhcmRzSW5mbyA9ICgpID0+IHtcbiAgY29uc3QgcmVjb3JkczogUmV3YXJkc1tdID0gW11cbiAgTEVWRUxfUkVXQVJEUy5yZWR1Y2UoKGN1ciwgcHJlLCBpbmRleCkgPT4ge1xuICAgIHJlY29yZHMucHVzaCh7IHJld2FyZDogcHJlLCBjdXJyZW50TGV2ZWw6IGN1ciArIHByZSwgcmV3YXJkTGV2ZWw6IGluZGV4IH0pXG4gICAgcmV0dXJuIGN1ciArIHByZVxuICB9LCBaRVJPKVxuICByZXR1cm4gcmVjb3Jkc1xufVxuIl19