43a981a6b8bd0f61109bda3c1611875f
'use strict';

var IsCallable = require('es-abstract/2019/IsCallable');

var functionsHaveNames = require('functions-have-names')();

var callBound = require('es-abstract/helpers/callBound');

var $functionToString = callBound('Function.prototype.toString');
var $stringMatch = callBound('String.prototype.match');
var classRegex = /^class /;

var isClass = function isClassConstructor(fn) {
  if (IsCallable(fn)) {
    return false;
  }

  if (typeof fn !== 'function') {
    return false;
  }

  try {
    var match = $stringMatch($functionToString(fn), classRegex);
    return !!match;
  } catch (e) {}

  return false;
};

var regex = /\s*function\s+([^(\s]*)\s*/;
var functionProto = Function.prototype;

module.exports = function getName() {
  if (!isClass(this) && !IsCallable(this)) {
    throw new TypeError('Function.prototype.name sham getter called on non-function');
  }

  if (functionsHaveNames) {
    return this.name;
  }

  if (this === functionProto) {
    return '';
  }

  var str = $functionToString(this);
  var match = $stringMatch(str, regex);
  var name = match && match[1];
  return name;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcGxlbWVudGF0aW9uLmpzIl0sIm5hbWVzIjpbIklzQ2FsbGFibGUiLCJyZXF1aXJlIiwiZnVuY3Rpb25zSGF2ZU5hbWVzIiwiY2FsbEJvdW5kIiwiJGZ1bmN0aW9uVG9TdHJpbmciLCIkc3RyaW5nTWF0Y2giLCJjbGFzc1JlZ2V4IiwiaXNDbGFzcyIsImlzQ2xhc3NDb25zdHJ1Y3RvciIsImZuIiwibWF0Y2giLCJlIiwicmVnZXgiLCJmdW5jdGlvblByb3RvIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0TmFtZSIsIlR5cGVFcnJvciIsIm5hbWUiLCJzdHIiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVUsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQXhCOztBQUNBLElBQUlDLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBUCxFQUF6Qjs7QUFDQSxJQUFJRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQywrQkFBRCxDQUF2Qjs7QUFDQSxJQUFJRyxpQkFBaUIsR0FBR0QsU0FBUyxDQUFDLDZCQUFELENBQWpDO0FBQ0EsSUFBSUUsWUFBWSxHQUFHRixTQUFTLENBQUMsd0JBQUQsQ0FBNUI7QUFFQSxJQUFJRyxVQUFVLEdBQUcsU0FBakI7O0FBRUEsSUFBSUMsT0FBTyxHQUFHLFNBQVNDLGtCQUFULENBQTRCQyxFQUE1QixFQUFnQztBQUM3QyxNQUFJVCxVQUFVLENBQUNTLEVBQUQsQ0FBZCxFQUFvQjtBQUNuQixXQUFPLEtBQVA7QUFDQTs7QUFDRCxNQUFJLE9BQU9BLEVBQVAsS0FBYyxVQUFsQixFQUE4QjtBQUM3QixXQUFPLEtBQVA7QUFDQTs7QUFDRCxNQUFJO0FBQ0gsUUFBSUMsS0FBSyxHQUFHTCxZQUFZLENBQUNELGlCQUFpQixDQUFDSyxFQUFELENBQWxCLEVBQXdCSCxVQUF4QixDQUF4QjtBQUNBLFdBQU8sQ0FBQyxDQUFDSSxLQUFUO0FBQ0EsR0FIRCxDQUdFLE9BQU9DLENBQVAsRUFBVSxDQUFFOztBQUNkLFNBQU8sS0FBUDtBQUNBLENBWkQ7O0FBY0EsSUFBSUMsS0FBSyxHQUFHLDRCQUFaO0FBRUEsSUFBSUMsYUFBYSxHQUFHQyxRQUFRLENBQUNDLFNBQTdCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsU0FBU0MsT0FBVCxHQUFtQjtBQUNuQyxNQUFJLENBQUNYLE9BQU8sQ0FBQyxJQUFELENBQVIsSUFBa0IsQ0FBQ1AsVUFBVSxDQUFDLElBQUQsQ0FBakMsRUFBeUM7QUFDeEMsVUFBTSxJQUFJbUIsU0FBSixDQUFjLDREQUFkLENBQU47QUFDQTs7QUFDRCxNQUFJakIsa0JBQUosRUFBd0I7QUFDdkIsV0FBTyxLQUFLa0IsSUFBWjtBQUNBOztBQUNELE1BQUksU0FBU1AsYUFBYixFQUE0QjtBQUMzQixXQUFPLEVBQVA7QUFDQTs7QUFDRCxNQUFJUSxHQUFHLEdBQUdqQixpQkFBaUIsQ0FBQyxJQUFELENBQTNCO0FBQ0EsTUFBSU0sS0FBSyxHQUFHTCxZQUFZLENBQUNnQixHQUFELEVBQU1ULEtBQU4sQ0FBeEI7QUFDQSxNQUFJUSxJQUFJLEdBQUdWLEtBQUssSUFBSUEsS0FBSyxDQUFDLENBQUQsQ0FBekI7QUFDQSxTQUFPVSxJQUFQO0FBQ0EsQ0FkRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIElzQ2FsbGFibGUgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC8yMDE5L0lzQ2FsbGFibGUnKTtcbnZhciBmdW5jdGlvbnNIYXZlTmFtZXMgPSByZXF1aXJlKCdmdW5jdGlvbnMtaGF2ZS1uYW1lcycpKCk7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnZXMtYWJzdHJhY3QvaGVscGVycy9jYWxsQm91bmQnKTtcbnZhciAkZnVuY3Rpb25Ub1N0cmluZyA9IGNhbGxCb3VuZCgnRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nJyk7XG52YXIgJHN0cmluZ01hdGNoID0gY2FsbEJvdW5kKCdTdHJpbmcucHJvdG90eXBlLm1hdGNoJyk7XG5cbnZhciBjbGFzc1JlZ2V4ID0gL15jbGFzcyAvO1xuXG52YXIgaXNDbGFzcyA9IGZ1bmN0aW9uIGlzQ2xhc3NDb25zdHJ1Y3Rvcihmbikge1xuXHRpZiAoSXNDYWxsYWJsZShmbikpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHR0cnkge1xuXHRcdHZhciBtYXRjaCA9ICRzdHJpbmdNYXRjaCgkZnVuY3Rpb25Ub1N0cmluZyhmbiksIGNsYXNzUmVnZXgpO1xuXHRcdHJldHVybiAhIW1hdGNoO1xuXHR9IGNhdGNoIChlKSB7fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgcmVnZXggPSAvXFxzKmZ1bmN0aW9uXFxzKyhbXihcXHNdKilcXHMqLztcblxudmFyIGZ1bmN0aW9uUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0TmFtZSgpIHtcblx0aWYgKCFpc0NsYXNzKHRoaXMpICYmICFJc0NhbGxhYmxlKHRoaXMpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgc2hhbSBnZXR0ZXIgY2FsbGVkIG9uIG5vbi1mdW5jdGlvbicpO1xuXHR9XG5cdGlmIChmdW5jdGlvbnNIYXZlTmFtZXMpIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cdGlmICh0aGlzID09PSBmdW5jdGlvblByb3RvKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cdHZhciBzdHIgPSAkZnVuY3Rpb25Ub1N0cmluZyh0aGlzKTtcblx0dmFyIG1hdGNoID0gJHN0cmluZ01hdGNoKHN0ciwgcmVnZXgpO1xuXHR2YXIgbmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuXHRyZXR1cm4gbmFtZTtcbn07XG4iXX0=