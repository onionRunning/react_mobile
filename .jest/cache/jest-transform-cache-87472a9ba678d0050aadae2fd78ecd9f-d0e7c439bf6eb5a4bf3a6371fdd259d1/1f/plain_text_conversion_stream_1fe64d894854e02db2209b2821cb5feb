7b0bb0d1fe5176017222ba585972a7d3
'use strict';

var ParserStream = require('./parser_stream'),
    inherits = require('util').inherits,
    $ = require('../common/html').TAG_NAMES;

var PlainTextConversionStream = module.exports = function (options) {
  ParserStream.call(this, options); // NOTE: see https://html.spec.whatwg.org/#read-text

  this.parser._insertFakeElement($.HTML);

  this.parser._insertFakeElement($.HEAD);

  this.parser.openElements.pop();

  this.parser._insertFakeElement($.BODY);

  this.parser._insertFakeElement($.PRE);

  this.parser.treeAdapter.insertText(this.parser.openElements.current, '\n');
  this.parser.switchToPlaintextParsing();
};

inherits(PlainTextConversionStream, ParserStream);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYWluX3RleHRfY29udmVyc2lvbl9zdHJlYW0uanMiXSwibmFtZXMiOlsiUGFyc2VyU3RyZWFtIiwicmVxdWlyZSIsImluaGVyaXRzIiwiJCIsIlRBR19OQU1FUyIsIlBsYWluVGV4dENvbnZlcnNpb25TdHJlYW0iLCJtb2R1bGUiLCJleHBvcnRzIiwib3B0aW9ucyIsImNhbGwiLCJwYXJzZXIiLCJfaW5zZXJ0RmFrZUVsZW1lbnQiLCJIVE1MIiwiSEVBRCIsIm9wZW5FbGVtZW50cyIsInBvcCIsIkJPRFkiLCJQUkUiLCJ0cmVlQWRhcHRlciIsImluc2VydFRleHQiLCJjdXJyZW50Iiwic3dpdGNoVG9QbGFpbnRleHRQYXJzaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxpQkFBRCxDQUExQjtBQUFBLElBQ0lDLFFBQVEsR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBUCxDQUFnQkMsUUFEL0I7QUFBQSxJQUVJQyxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUFQLENBQTBCRyxTQUZsQzs7QUFJQSxJQUFJQyx5QkFBeUIsR0FBR0MsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLE9BQVYsRUFBbUI7QUFDaEVSLEVBQUFBLFlBQVksQ0FBQ1MsSUFBYixDQUFrQixJQUFsQixFQUF3QkQsT0FBeEIsRUFEZ0UsQ0FHaEU7O0FBQ0EsT0FBS0UsTUFBTCxDQUFZQyxrQkFBWixDQUErQlIsQ0FBQyxDQUFDUyxJQUFqQzs7QUFDQSxPQUFLRixNQUFMLENBQVlDLGtCQUFaLENBQStCUixDQUFDLENBQUNVLElBQWpDOztBQUNBLE9BQUtILE1BQUwsQ0FBWUksWUFBWixDQUF5QkMsR0FBekI7O0FBQ0EsT0FBS0wsTUFBTCxDQUFZQyxrQkFBWixDQUErQlIsQ0FBQyxDQUFDYSxJQUFqQzs7QUFDQSxPQUFLTixNQUFMLENBQVlDLGtCQUFaLENBQStCUixDQUFDLENBQUNjLEdBQWpDOztBQUNBLE9BQUtQLE1BQUwsQ0FBWVEsV0FBWixDQUF3QkMsVUFBeEIsQ0FBbUMsS0FBS1QsTUFBTCxDQUFZSSxZQUFaLENBQXlCTSxPQUE1RCxFQUFxRSxJQUFyRTtBQUNBLE9BQUtWLE1BQUwsQ0FBWVcsd0JBQVo7QUFDSCxDQVhEOztBQWFBbkIsUUFBUSxDQUFDRyx5QkFBRCxFQUE0QkwsWUFBNUIsQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIFBhcnNlclN0cmVhbSA9IHJlcXVpcmUoJy4vcGFyc2VyX3N0cmVhbScpLFxuICAgIGluaGVyaXRzID0gcmVxdWlyZSgndXRpbCcpLmluaGVyaXRzLFxuICAgICQgPSByZXF1aXJlKCcuLi9jb21tb24vaHRtbCcpLlRBR19OQU1FUztcblxudmFyIFBsYWluVGV4dENvbnZlcnNpb25TdHJlYW0gPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgUGFyc2VyU3RyZWFtLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBOT1RFOiBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jcmVhZC10ZXh0XG4gICAgdGhpcy5wYXJzZXIuX2luc2VydEZha2VFbGVtZW50KCQuSFRNTCk7XG4gICAgdGhpcy5wYXJzZXIuX2luc2VydEZha2VFbGVtZW50KCQuSEVBRCk7XG4gICAgdGhpcy5wYXJzZXIub3BlbkVsZW1lbnRzLnBvcCgpO1xuICAgIHRoaXMucGFyc2VyLl9pbnNlcnRGYWtlRWxlbWVudCgkLkJPRFkpO1xuICAgIHRoaXMucGFyc2VyLl9pbnNlcnRGYWtlRWxlbWVudCgkLlBSRSk7XG4gICAgdGhpcy5wYXJzZXIudHJlZUFkYXB0ZXIuaW5zZXJ0VGV4dCh0aGlzLnBhcnNlci5vcGVuRWxlbWVudHMuY3VycmVudCwgJ1xcbicpO1xuICAgIHRoaXMucGFyc2VyLnN3aXRjaFRvUGxhaW50ZXh0UGFyc2luZygpO1xufTtcblxuaW5oZXJpdHMoUGxhaW5UZXh0Q29udmVyc2lvblN0cmVhbSwgUGFyc2VyU3RyZWFtKTtcbiJdfQ==