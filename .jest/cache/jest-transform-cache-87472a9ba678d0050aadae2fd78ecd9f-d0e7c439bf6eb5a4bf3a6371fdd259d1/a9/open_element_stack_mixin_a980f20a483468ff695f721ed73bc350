683bb971b77fc97483284b71f667ac37
'use strict';

var Mixin = require('../../utils/mixin'),
    inherits = require('util').inherits;

var LocationInfoOpenElementStackMixin = module.exports = function (stack, options) {
  Mixin.call(this, stack);
  this.onItemPop = options.onItemPop;
};

inherits(LocationInfoOpenElementStackMixin, Mixin);

LocationInfoOpenElementStackMixin.prototype._getOverriddenMethods = function (mxn, orig) {
  return {
    pop: function () {
      mxn.onItemPop(this.current);
      orig.pop.call(this);
    },
    popAllUpToHtmlElement: function () {
      for (var i = this.stackTop; i > 0; i--) mxn.onItemPop(this.items[i]);

      orig.popAllUpToHtmlElement.call(this);
    },
    remove: function (element) {
      mxn.onItemPop(this.current);
      orig.remove.call(this, element);
    }
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9wZW5fZWxlbWVudF9zdGFja19taXhpbi5qcyJdLCJuYW1lcyI6WyJNaXhpbiIsInJlcXVpcmUiLCJpbmhlcml0cyIsIkxvY2F0aW9uSW5mb09wZW5FbGVtZW50U3RhY2tNaXhpbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJzdGFjayIsIm9wdGlvbnMiLCJjYWxsIiwib25JdGVtUG9wIiwicHJvdG90eXBlIiwiX2dldE92ZXJyaWRkZW5NZXRob2RzIiwibXhuIiwib3JpZyIsInBvcCIsImN1cnJlbnQiLCJwb3BBbGxVcFRvSHRtbEVsZW1lbnQiLCJpIiwic3RhY2tUb3AiLCJpdGVtcyIsInJlbW92ZSIsImVsZW1lbnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLEtBQUssR0FBR0MsT0FBTyxDQUFDLG1CQUFELENBQW5CO0FBQUEsSUFDSUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFQLENBQWdCQyxRQUQvQjs7QUFHQSxJQUFJQyxpQ0FBaUMsR0FBR0MsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQVVDLEtBQVYsRUFBaUJDLE9BQWpCLEVBQTBCO0FBQy9FUCxFQUFBQSxLQUFLLENBQUNRLElBQU4sQ0FBVyxJQUFYLEVBQWlCRixLQUFqQjtBQUVBLE9BQUtHLFNBQUwsR0FBaUJGLE9BQU8sQ0FBQ0UsU0FBekI7QUFDSCxDQUpEOztBQU1BUCxRQUFRLENBQUNDLGlDQUFELEVBQW9DSCxLQUFwQyxDQUFSOztBQUVBRyxpQ0FBaUMsQ0FBQ08sU0FBbEMsQ0FBNENDLHFCQUE1QyxHQUFvRSxVQUFVQyxHQUFWLEVBQWVDLElBQWYsRUFBcUI7QUFDckYsU0FBTztBQUNIQyxJQUFBQSxHQUFHLEVBQUUsWUFBWTtBQUNiRixNQUFBQSxHQUFHLENBQUNILFNBQUosQ0FBYyxLQUFLTSxPQUFuQjtBQUNBRixNQUFBQSxJQUFJLENBQUNDLEdBQUwsQ0FBU04sSUFBVCxDQUFjLElBQWQ7QUFDSCxLQUpFO0FBTUhRLElBQUFBLHFCQUFxQixFQUFFLFlBQVk7QUFDL0IsV0FBSyxJQUFJQyxDQUFDLEdBQUcsS0FBS0MsUUFBbEIsRUFBNEJELENBQUMsR0FBRyxDQUFoQyxFQUFtQ0EsQ0FBQyxFQUFwQyxFQUNJTCxHQUFHLENBQUNILFNBQUosQ0FBYyxLQUFLVSxLQUFMLENBQVdGLENBQVgsQ0FBZDs7QUFFSkosTUFBQUEsSUFBSSxDQUFDRyxxQkFBTCxDQUEyQlIsSUFBM0IsQ0FBZ0MsSUFBaEM7QUFDSCxLQVhFO0FBYUhZLElBQUFBLE1BQU0sRUFBRSxVQUFVQyxPQUFWLEVBQW1CO0FBQ3ZCVCxNQUFBQSxHQUFHLENBQUNILFNBQUosQ0FBYyxLQUFLTSxPQUFuQjtBQUNBRixNQUFBQSxJQUFJLENBQUNPLE1BQUwsQ0FBWVosSUFBWixDQUFpQixJQUFqQixFQUF1QmEsT0FBdkI7QUFDSDtBQWhCRSxHQUFQO0FBa0JILENBbkJEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTWl4aW4gPSByZXF1aXJlKCcuLi8uLi91dGlscy9taXhpbicpLFxuICAgIGluaGVyaXRzID0gcmVxdWlyZSgndXRpbCcpLmluaGVyaXRzO1xuXG52YXIgTG9jYXRpb25JbmZvT3BlbkVsZW1lbnRTdGFja01peGluID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RhY2ssIG9wdGlvbnMpIHtcbiAgICBNaXhpbi5jYWxsKHRoaXMsIHN0YWNrKTtcblxuICAgIHRoaXMub25JdGVtUG9wID0gb3B0aW9ucy5vbkl0ZW1Qb3A7XG59O1xuXG5pbmhlcml0cyhMb2NhdGlvbkluZm9PcGVuRWxlbWVudFN0YWNrTWl4aW4sIE1peGluKTtcblxuTG9jYXRpb25JbmZvT3BlbkVsZW1lbnRTdGFja01peGluLnByb3RvdHlwZS5fZ2V0T3ZlcnJpZGRlbk1ldGhvZHMgPSBmdW5jdGlvbiAobXhuLCBvcmlnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBteG4ub25JdGVtUG9wKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBvcmlnLnBvcC5jYWxsKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBvcEFsbFVwVG9IdG1sRWxlbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuc3RhY2tUb3A7IGkgPiAwOyBpLS0pXG4gICAgICAgICAgICAgICAgbXhuLm9uSXRlbVBvcCh0aGlzLml0ZW1zW2ldKTtcblxuICAgICAgICAgICAgb3JpZy5wb3BBbGxVcFRvSHRtbEVsZW1lbnQuY2FsbCh0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBteG4ub25JdGVtUG9wKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBvcmlnLnJlbW92ZS5jYWxsKHRoaXMsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbiJdfQ==