{"version":3,"sources":["../src/uniqueArray.js"],"names":["seen","arr","getUniqueCount","rest","result","array","propValue","props","uniqueCount","requiredUniqueArray","uniqueArray"],"mappings":";;;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,cAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,yBAAA,CAAA,CAAA;;;;;;;;AAEA,SAAA,kBAAA,CAAA,GAAA,EAAiC;AAAE,SAAO,IAAA,GAAA,CAAA,GAAA,EAAP,IAAA;AAA2B;AAC9D;;;AACA,SAAA,iBAAA,CAAA,GAAA,EAAgC;AAC9B,MAAMA,IAAI,GAAV,EAAA;AACAC,EAAAA,GAAG,CAAHA,OAAAA,CAAY,UAAA,IAAA,EAAU;AACpB,QAAID,IAAI,CAAJA,OAAAA,CAAAA,IAAAA,MAAuB,CAA3B,CAAA,EAA+B;AAC7BA,MAAAA,IAAI,CAAJA,IAAAA,CAAAA,IAAAA;AACD;AAHHC,GAAAA;AAKA,SAAOD,IAAI,CAAX,MAAA;AACD;;AAED,IAAME,cAAc,GAAG,OAAA,GAAA,KAAA,UAAA,GAAA,kBAAA;AAAiD;AAAxE,iBAAA;;AAEA,SAAA,mBAAA,CAAA,KAAA,EAAA,QAAA,EAAA,aAAA,EAAsE;AAAA,OAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAANA,IAAAA,IAAM,CAAA,IAAA,GAAA,CAAA,CAANA,GAAM,SAAA,CAAA,IAAA,CAANA;AAAM;;AACpE,MAAMC,MAAM,GAAGC,UAAAA,CAAAA,KAAAA,CAAAA,UAAAA,CAAAA,KAAAA,CAAAA,UAAAA,CAAAA,KAAAA,EAAAA,CAAAA,KAAAA,EAAAA,QAAAA,EAAAA,aAAAA,EAAAA,MAAAA,CAAf,IAAeA,CAAAA,CAAf;;AACA,MAAID,MAAM,IAAV,IAAA,EAAoB;AAClB,WAAA,MAAA;AACD;;AAJmE,MAMhDE,SANgD,GAMlCC,KANkC,CAAA,QAAA,CAAA;AAOpE,MAAMC,WAAW,GAAGN,cAAc,CAAlC,SAAkC,CAAlC;;AACA,MAAIM,WAAW,KAAKF,SAAS,CAA7B,MAAA,EAAsC;AACpC,WAAO,IAAA,UAAA,CAAA,GAAA,MAAA,CAAA,aAAA,EAAA,2BAAA,EAAA,MAAA,CAA2DA,SAAS,CAATA,MAAAA,GAA3D,WAAA,EAAP,0BAAO,CAAA,CAAP;AACD;;AACD,SAAA,IAAA;AACD;;AAED,SAAA,WAAA,CAAA,KAAA,EAAA,QAAA,EAA+C;AAAA,MACzBA,SADyB,GACXC,KADW,CAAA,QAAA,CAAA;;AAE7C,MAAID,SAAS,IAAb,IAAA,EAAuB;AACrB,WAAA,IAAA;AACD;;AAJ4C,OAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAANH,IAAM,GAAA,IAAA,KAAA,CAAA,KAAA,GAAA,CAAA,GAAA,KAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;AAANA,IAAAA,IAAM,CAAA,KAAA,GAAA,CAAA,CAANA,GAAM,SAAA,CAAA,KAAA,CAANA;AAAM;;AAM7C,SAAOM,mBAAmB,CAAnBA,KAAAA,CAAAA,KAAAA,CAAAA,EAAAA,CAAAA,KAAAA,EAAAA,QAAAA,EAAAA,MAAAA,CAAP,IAAOA,CAAAA,CAAP;AACD;;AACDC,WAAW,CAAXA,UAAAA,GAAAA,mBAAAA;;eAEe,SAAA,QAAA,GAAA;AAAA,SAAM,CAAA,GAAA,cAAA,CAAA,SAAA,CAAA,EAAA,WAAA,EAAN,aAAM,CAAN","sourcesContent":["import { array } from 'prop-types';\nimport wrapValidator from './helpers/wrapValidator';\n\nfunction uniqueCountWithSet(arr) { return new Set(arr).size; }\n/* istanbul ignore next */\nfunction uniqueCountLegacy(arr) {\n  const seen = [];\n  arr.forEach((item) => {\n    if (seen.indexOf(item) === -1) {\n      seen.push(item);\n    }\n  });\n  return seen.length;\n}\n\nconst getUniqueCount = typeof Set === 'function' ? uniqueCountWithSet : /* istanbul ignore next */ uniqueCountLegacy;\n\nfunction requiredUniqueArray(props, propName, componentName, ...rest) {\n  const result = array.isRequired(props, propName, componentName, ...rest);\n  if (result != null) {\n    return result;\n  }\n\n  const { [propName]: propValue } = props;\n  const uniqueCount = getUniqueCount(propValue);\n  if (uniqueCount !== propValue.length) {\n    return new RangeError(`${componentName}: values must be unique. ${propValue.length - uniqueCount} duplicate values found.`);\n  }\n  return null;\n}\n\nfunction uniqueArray(props, propName, ...rest) {\n  const { [propName]: propValue } = props;\n  if (propValue == null) {\n    return null;\n  }\n\n  return requiredUniqueArray(props, propName, ...rest);\n}\nuniqueArray.isRequired = requiredUniqueArray;\n\nexport default () => wrapValidator(uniqueArray, 'uniqueArray');\n"]}