a988aa9f48b449e30ff2cbb33b96a8dc
'use strict';

var supportsDescriptors = require('define-properties').supportsDescriptors;

var functionsHaveNames = require('functions-have-names')();

var getPolyfill = require('./polyfill');

var defineProperty = Object.defineProperty;
var TypeErr = TypeError;

module.exports = function shimName() {
  var polyfill = getPolyfill();

  if (functionsHaveNames) {
    return polyfill;
  }

  if (!supportsDescriptors) {
    throw new TypeErr('Shimming Function.prototype.name support requires ES5 property descriptor support.');
  }

  var functionProto = Function.prototype;
  defineProperty(functionProto, 'name', {
    configurable: true,
    enumerable: false,
    get: function () {
      var name = polyfill.call(this);

      if (this !== functionProto) {
        defineProperty(this, 'name', {
          configurable: true,
          enumerable: false,
          value: name,
          writable: false
        });
      }

      return name;
    }
  });
  return polyfill;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoaW0uanMiXSwibmFtZXMiOlsic3VwcG9ydHNEZXNjcmlwdG9ycyIsInJlcXVpcmUiLCJmdW5jdGlvbnNIYXZlTmFtZXMiLCJnZXRQb2x5ZmlsbCIsImRlZmluZVByb3BlcnR5IiwiT2JqZWN0IiwiVHlwZUVyciIsIlR5cGVFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaGltTmFtZSIsInBvbHlmaWxsIiwiZnVuY3Rpb25Qcm90byIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm5hbWUiLCJjYWxsIiwidmFsdWUiLCJ3cml0YWJsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsbUJBQW1CLEdBQUdDLE9BQU8sQ0FBQyxtQkFBRCxDQUFQLENBQTZCRCxtQkFBdkQ7O0FBQ0EsSUFBSUUsa0JBQWtCLEdBQUdELE9BQU8sQ0FBQyxzQkFBRCxDQUFQLEVBQXpCOztBQUNBLElBQUlFLFdBQVcsR0FBR0YsT0FBTyxDQUFDLFlBQUQsQ0FBekI7O0FBQ0EsSUFBSUcsY0FBYyxHQUFHQyxNQUFNLENBQUNELGNBQTVCO0FBQ0EsSUFBSUUsT0FBTyxHQUFHQyxTQUFkOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsU0FBU0MsUUFBVCxHQUFvQjtBQUNwQyxNQUFJQyxRQUFRLEdBQUdSLFdBQVcsRUFBMUI7O0FBQ0EsTUFBSUQsa0JBQUosRUFBd0I7QUFDdkIsV0FBT1MsUUFBUDtBQUNBOztBQUNELE1BQUksQ0FBQ1gsbUJBQUwsRUFBMEI7QUFDekIsVUFBTSxJQUFJTSxPQUFKLENBQVksb0ZBQVosQ0FBTjtBQUNBOztBQUNELE1BQUlNLGFBQWEsR0FBR0MsUUFBUSxDQUFDQyxTQUE3QjtBQUNBVixFQUFBQSxjQUFjLENBQUNRLGFBQUQsRUFBZ0IsTUFBaEIsRUFBd0I7QUFDckNHLElBQUFBLFlBQVksRUFBRSxJQUR1QjtBQUVyQ0MsSUFBQUEsVUFBVSxFQUFFLEtBRnlCO0FBR3JDQyxJQUFBQSxHQUFHLEVBQUUsWUFBWTtBQUNoQixVQUFJQyxJQUFJLEdBQUdQLFFBQVEsQ0FBQ1EsSUFBVCxDQUFjLElBQWQsQ0FBWDs7QUFDQSxVQUFJLFNBQVNQLGFBQWIsRUFBNEI7QUFDM0JSLFFBQUFBLGNBQWMsQ0FBQyxJQUFELEVBQU8sTUFBUCxFQUFlO0FBQzVCVyxVQUFBQSxZQUFZLEVBQUUsSUFEYztBQUU1QkMsVUFBQUEsVUFBVSxFQUFFLEtBRmdCO0FBRzVCSSxVQUFBQSxLQUFLLEVBQUVGLElBSHFCO0FBSTVCRyxVQUFBQSxRQUFRLEVBQUU7QUFKa0IsU0FBZixDQUFkO0FBTUE7O0FBQ0QsYUFBT0gsSUFBUDtBQUNBO0FBZG9DLEdBQXhCLENBQWQ7QUFnQkEsU0FBT1AsUUFBUDtBQUNBLENBMUJEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3VwcG9ydHNEZXNjcmlwdG9ycyA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJykuc3VwcG9ydHNEZXNjcmlwdG9ycztcbnZhciBmdW5jdGlvbnNIYXZlTmFtZXMgPSByZXF1aXJlKCdmdW5jdGlvbnMtaGF2ZS1uYW1lcycpKCk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgVHlwZUVyciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltTmFtZSgpIHtcblx0dmFyIHBvbHlmaWxsID0gZ2V0UG9seWZpbGwoKTtcblx0aWYgKGZ1bmN0aW9uc0hhdmVOYW1lcykge1xuXHRcdHJldHVybiBwb2x5ZmlsbDtcblx0fVxuXHRpZiAoIXN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycignU2hpbW1pbmcgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgc3VwcG9ydCByZXF1aXJlcyBFUzUgcHJvcGVydHkgZGVzY3JpcHRvciBzdXBwb3J0LicpO1xuXHR9XG5cdHZhciBmdW5jdGlvblByb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXHRkZWZpbmVQcm9wZXJ0eShmdW5jdGlvblByb3RvLCAnbmFtZScsIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgbmFtZSA9IHBvbHlmaWxsLmNhbGwodGhpcyk7XG5cdFx0XHRpZiAodGhpcyAhPT0gZnVuY3Rpb25Qcm90bykge1xuXHRcdFx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0dmFsdWU6IG5hbWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiJdfQ==